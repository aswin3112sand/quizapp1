<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('Aswin Quiz – Dashboard')}"></head>
<body data-bs-theme="dark">
  <img src="/img/bg1.jpg" th:src="@{/img/bg1.jpg}" class="bg-img bg1" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg2.jpg" th:src="@{/img/bg2.jpg}" class="bg-img bg2" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg3.jpg" th:src="@{/img/bg3.jpg}" class="bg-img bg3" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg4.jpg" th:src="@{/img/bg4.jpg}" class="bg-img bg4" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg5.jpg" th:src="@{/img/bg5.jpg}" class="bg-img bg5" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg6.jpg" th:src="@{/img/bg6.jpg}" class="bg-img bg6" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg7.jpg" th:src="@{/img/bg7.jpg}" class="bg-img bg7" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg8.jpg" th:src="@{/img/bg8.jpg}" class="bg-img bg8" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg9.jpg" th:src="@{/img/bg9.jpg}" class="bg-img bg9" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg10.jpg" th:src="@{/img/bg10.jpg}" class="bg-img bg10" alt="" loading="lazy" decoding="async" />

  <div th:replace="~{fragments/navbar :: navbar}"></div>

  <main class="container dashboard-main">
    <header class="mb-4" data-reveal="up">
      <!-- why: dashboard hero -->
      <p class="badge-soft">Control center</p>
      <h1 class="hero-title">Dashboard</h1>
      <p class="text-muted">Insights for mentors மற்றும் learners.</p>
    </header>

    <section class="kpi-grid" data-reveal="fade">
      <article class="glass card-premium kpi-card" th:each="stat : ${kpis}">
        <p class="text-muted mb-2" th:text="${stat.label}">Avg score</p>
        <div class="kpi-value" th:text="${stat.value}">86%</div>
        <small class="text-muted" th:text="${stat.delta}">+4% this week</small>
      </article>
    </section>

    <section class="glass section-card mt-4" data-reveal="up">
      <!-- why: table of attempts -->
      <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
        <h2 class="h4 mb-0">Recent attempts</h2>
        <span class="badge-soft">Auto refresh</span>
      </div>
      <div class="table-responsive mt-3">
        <table class="table-premium">
          <thead>
            <tr>
              <th>Quiz</th>
              <th>Date</th>
              <th>Score</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="attempt : ${attempts}">
              <td th:text="${attempt.quizTitle}">Design Systems</td>
              <td th:text="${#temporals.format(attempt.takenAt, 'dd MMM, HH:mm')}">12 Oct</td>
              <td th:text="${attempt.score + '%'}">88%</td>
              <td>
                <span class="status-badge"
                      th:classappend="${attempt.status}">
                  <span th:text="${attempt.statusLabel}">Passed</span>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <nav class="pagination-soft" aria-label="History pages">
        <a th:href="@{/dashboard?page=1}" href="?page=1" aria-current="page">1</a>
        <a th:href="@{/dashboard?page=2}" href="?page=2">2</a>
        <a th:href="@{/dashboard?page=3}" href="?page=3">3</a>
      </nav>
    </section>
  </main>

  <div th:replace="~{fragments/footer :: footer}"></div>
  <script src="../static/js/app.js" th:src="@{/js/app.js}" defer></script>
</body>
</html>
