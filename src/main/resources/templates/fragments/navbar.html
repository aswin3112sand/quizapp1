<nav class="navbar-premium glass"
     th:fragment="navbar"
     xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
     th:with="currentPath=${#httpServletRequest != null ? #httpServletRequest.requestURI : ''}">
  <div class="container navbar-shell">
    <!-- why: brand title -->
    <div class="navbar-brand-shell">
      <h1 class="navbar-brand text-gradient fw-bold mb-0">Online Quiz</h1>
    </div>

    <!-- why: checkbox hack for collapse -->
    <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-hidden="true" />
    <label class="hamburger" for="nav-toggle" aria-label="Toggle navigation">
      <span></span>
      <span></span>
      <span></span>
    </label>

    <div class="nav-menu" id="navMenu">
      <div class="nav-links" sec:authorize="isAuthenticated()">
        <a th:href="@{/quiz}" href="/quiz">Quizzes</a>
        <a th:href="@{/leaderboard}" href="/leaderboard">Leaderboard</a>
        <a sec:authorize="hasRole('ADMIN')" th:href="@{/admin}" href="/admin">Admin</a>
      </div>
      <div class="nav-cta">
        <span sec:authorize="isAnonymous()" class="nav-auth nav-auth--guest">
          <a class="btn btn-primary neon"
             th:href="@{/login}"
             href="/login"
             th:if="${!#strings.equalsIgnoreCase(currentPath, '/login')}"
             data-ripple
             data-shimmer>Login</a>
          <a class="btn btn-primary neon"
             th:href="@{/register}"
             href="/register"
             th:if="${!#strings.equalsIgnoreCase(currentPath, '/register')}"
             data-ripple
             data-shimmer>Register</a>
        </span>
        <span sec:authorize="isAuthenticated()" class="nav-auth nav-auth--user">
          <a class="btn btn-outline glass" th:href="@{/me/scores}" href="/me/scores" data-ripple>My scores</a>
          <form th:action="@{/logout}" method="post">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            <button class="btn btn-primary neon" type="submit" data-ripple data-shimmer>Logout</button>
          </form>
        </span>
      </div>
    </div>
  </div>
</nav>
