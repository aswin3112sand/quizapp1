<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head(${question.id} != null ? 'Edit Question' : 'New Question')}"></head>
<body data-bs-theme="dark" class="page-admin">
  <img src="/img/bg1.jpg" th:src="@{/img/bg1.jpg}" class="bg-img bg1" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg2.jpg" th:src="@{/img/bg2.jpg}" class="bg-img bg2" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg3.jpg" th:src="@{/img/bg3.jpg}" class="bg-img bg3" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg4.jpg" th:src="@{/img/bg4.jpg}" class="bg-img bg4" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg5.jpg" th:src="@{/img/bg5.jpg}" class="bg-img bg5" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg6.jpg" th:src="@{/img/bg6.jpg}" class="bg-img bg6" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg7.jpg" th:src="@{/img/bg7.jpg}" class="bg-img bg7" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg8.jpg" th:src="@{/img/bg8.jpg}" class="bg-img bg8" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg9.jpg" th:src="@{/img/bg9.jpg}" class="bg-img bg9" alt="" loading="lazy" decoding="async" />
  <img src="/img/bg10.jpg" th:src="@{/img/bg10.jpg}" class="bg-img bg10" alt="" loading="lazy" decoding="async" />

  <div th:replace="~{fragments/navbar :: navbar}"></div>

  <main class="container py-5">
    <section class="glass card-premium" data-reveal="up">
      <div class="d-flex justify-content-between flex-wrap gap-3 mb-4">
        <div>
          <p class="badge-soft mb-1" th:text="${quiz.title}">Quiz</p>
          <h1 class="h4 mb-0" th:text="${question.id} != null ? 'Edit question' : 'New question'">New question</h1>
          <small class="text-muted">Fill four options and pick the correct index (0â€“3).</small>
        </div>
        <a class="btn btn-outline glass btn-backlist" th:href="@{/admin/questions}" data-ripple>Back to list</a>
      </div>

      <form th:action="@{/admin/questions}"
            method="post"
            th:object="${question}"
            class="form-stack"
            novalidate>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <input type="hidden" th:field="*{id}" />
        <div class="field-floating">
          <textarea class="form-control"
                    rows="2"
                    placeholder=" "
                    required
                    data-float
                    th:field="*{title}"></textarea>
          <label>Question text</label>
        </div>
        <div class="row g-3">
          <div class="col-12 col-md-6">
            <div class="field-floating">
              <textarea class="form-control"
                        rows="1"
                        placeholder=" "
                        required
                        data-float
                        th:field="*{optionA}"></textarea>
              <label>Option A</label>
            </div>
          </div>
          <div class="col-12 col-md-6">
            <div class="field-floating">
              <textarea class="form-control"
                        rows="1"
                        placeholder=" "
                        required
                        data-float
                        th:field="*{optionB}"></textarea>
              <label>Option B</label>
            </div>
          </div>
          <div class="col-12 col-md-6">
            <div class="field-floating">
              <textarea class="form-control"
                        rows="1"
                        placeholder=" "
                        required
                        data-float
                        th:field="*{optionC}"></textarea>
              <label>Option C</label>
            </div>
          </div>
          <div class="col-12 col-md-6">
            <div class="field-floating">
              <textarea class="form-control"
                        rows="1"
                        placeholder=" "
                        required
                        data-float
                        th:field="*{optionD}"></textarea>
              <label>Option D</label>
            </div>
          </div>
        </div>
        <div class="field-floating">
          <input class="form-control"
                 type="number"
                 min="0"
                 max="3"
                 placeholder=" "
                 required
                 data-float
                 th:field="*{answer}" />
          <label>Correct option index (0-3)</label>
        </div>
        <div class="d-flex flex-column flex-md-row gap-3 mt-4">
          <button class="btn btn-primary neon flex-fill" type="submit" data-ripple data-shimmer>
            <span th:text="${question.id} != null ? 'Update question' : 'Save question'">Save question</span>
          </button>
          <a class="btn btn-outline glass flex-fill" th:href="@{/admin/questions}" data-ripple>
            Cancel
          </a>
        </div>
      </form>
    </section>
  </main>

  <div th:replace="~{fragments/footer :: footer}"></div>
  <script src="../static/js/app.js" th:src="@{/js/app.js}" defer></script>
</body>
</html>
